<?php if (!defined('basePath')) exit('No direct script access allowed');$this->form->beforeUpdate('cek()');function cek(){		global $system;		$error = false;	$alert = '';		if($system->site->isMultiLang()){			foreach($system->site->lang() as $langID=>$langVal){						@$sc .= '							elseif(empty($_POST[\'add_post_title_'.$langID.'\'])){					$error = true;					$alert = "Title '.strtoupper($langVal).' cannot be empty.";				}				elseif(empty($_POST[\'add_post_content_'.$langID.'\'])){					$error = true;					$alert = "Content Text '.strtoupper($langVal).' cannot be empty.";				}				elseif(empty($_POST[\'add_post_description_'.$langID.'\'])){					$error = true;					$alert = "Description '.strtoupper($langVal).' cannot be empty.";				}				elseif(empty($_POST[\'postImages\'][\'name\'][0])){					$error = true;					$alert = "Featured Image required.";				}			';		}	}	else{			@$sc = '						elseif(empty($_POST[\'add_post_title\'])){				$error = true;				$alert = "Title cannot be empty.";			}			elseif(empty($_POST[\'add_post_content\'])){				$error = true;				$alert = "Content Text be empty.";			}			elseif(empty($_POST[\'add_post_description\'])){				$error = true;				$alert = "Description cannot be empty.";			}			elseif(empty($_POST[\'postImages\'][\'name\'][0])){					$error = true;					$alert = "Featured Image required.";				}		';	}		$sc = substr(trim($sc),4);		eval($sc);		$response = array(				'error' => $error,		'alert' => $alert	);		return $response;	}/*--- Cek is edited ---*//*$edited 	= $this->db->getRow("select edited,edited_by,posts_author_id from ".$this->table_prefix."posts where post_id='".$this->uri(3)."'");$edited 	= $this->db->getOne("select edited from ".$this->table_prefix."posts where post_id='".$this->uri(3)."'");$editedId 	= $this->db->getOne("select edited_by from ".$this->table_prefix."posts where post_id='".$this->uri(3)."'");$authorId 	= $this->db->getOne("select posts_author_id from ".$this->table_prefix."posts where post_id='".$this->uri(3)."'");if($edited=='1' and $editedId!=$this->admin('id')){		$editedBy  = $this->db->getOne("select name from ".$this->table_prefix."user where id='".$editedId."'");	$groupName = $this->db->getOne("select g.name from ".$this->table_prefix."user_group g left join ".$this->table_prefix."user u on(g.group_id=u.group_id) where u.id='".$editedId."'");	echo $this->form->alert('warning','Data sedang di edit oleh <em>'.$groupName.' </em><strong>'.$editedBy.'</strong>');}else{		if($this->admin('group_id')>4 && $authorId!=$this->admin('id')){		echo $this->form->alert('warning','Access denied');	}	else{		$this->db->execute("update ".$this->table_prefix."posts set edited='1', edited_by='".$this->admin('id')."' where post_id='".$this->uri(3)."'");		$this->form->getForm('edit',$sqltable,$params,$formName='content',$submitValue='Update Post',$finishButton=true);	}}*/$this->form->getForm('edit',$sqltable,$params,$formName='content',$submitValue='Update Post',$finishButton=true);?>